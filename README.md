# musicscore
악보인식
<<<<<<< HEAD

=======
# 프로젝트 계획 
### [수정할 부분 있으면 자율적으로 수정바람.]
-----
## 프로젝트 추진 동기
> * 취미로 기타를 치는 입장에서 그때 그때 원하는 타브형태의 악보를 구하기 힘듦
> * 최신 가요 악보를 구해서 기타를 치고싶어도, 그 가요에 대한 타브악보를 음악적 지식을 가진 누군가가 만들어놓고 배포하지않으면 악보를 구할 수 없다는 불편함이 있었음
> --------------------
> * 그래서 내가 전문적인 악보변환 지식을 갖지않아도 원하면 필요한 형태로 악보를 변환받아 사용할 수 있도록 하는 서비스가 있으면 어떨까 하는 생각을 하게됌.
> * 그런 기능을 가진 서비스가 아직 정착되어있는 것이 없어, 직접 만들고자 계획했음.
> * 어플, 응용프로그램(exe), 웹서비스 등의 여러가지 형태의 서비스를 고민하다, 가장 먼저 웹상에서 구동되는 악보자동변환 서비스를 추진하게됌.

-------
## 기대하는 1차 결과물 모습
> * pdf로 받은 피아노 악보의 음악적 표현들을 다룰 수 있는 자료구조로 변환 할 수 있다.
> * 그 악보의 음악적 표현들과 순서, 문맥이 고스란히 담긴 자료구조를 이용해서 TAB악보에 적절히 녹여낸다.
>> 이 과정에서 피아노악보와 기타타브악보에 대한 이해가 필요할것.
> * 웹 상에서 서비스. 
>> 파일을 드래그하거나 선택해서 업로드하면 웹서버에서 받아, 우리가 구현한 변환과정을 거쳐 다시 웹 HTTP프로토콜로 응답 및 사용자 측에서 다운로드
> * Input받은 피아노 악보를 다음과 같은 옵션의 TAB악보로 변환 가능.
>> 1. 아르페지오 [ 초급모드 ]
>> 2. 반주 [ 중급모드 ]
>> 3. 핑거스타일 [ 고급모드 ] [ 아르페지오와 반주의 적절한 혼합 ]
-------
### 전체 코드 개요

파일 경로 얻기, 형식 변경

이미지 읽어와서 노이즈, 보표 제거

→ 악보마다 특성 조금 다른 거 여기서 수치 조정해서 해

이미지 정규화

이미지 검출 (객체 크기 알아낸 후 최소 넓이, 높이 알아낸 후 거르기)

→ 타브악보 숫자는 거의 비슷한 크기 가지고 있으니 여기서 크기 지정해서 뽑아내면 될듯

-------
## 활동
> ## 2023/04/27 : 프로젝트 방향 설정 회의[성대]
> ### [과제]2023/05/04까지
>> * 코드짜기
>>> 1. 악보의 음표 등, 요소 및 객체 인식 할수 있도록 코드짜기
>>>> * 기타 지판 음 자료구조화 하기 [ 피클파일로 저장 요망.] 
>>>> * 음악적 표현들 자료구조화 하기. [ 피클파일로 저장 요망.]
>>>> * 
>> * 음악적 도메인 지식 습득
>>> 1. 우리가 아직 모르는 여러 음악적 표현들을 조사 및 인지하기.
>>> 2. 기타 지판 특성 추출하기
>>> 3. 악보에 표현되어 있는 음악적 표현들을 구분할 수 있는 이진분류 특성 추출 ex. 음표여부 , 쉼표여부
> ## 2023/04/28 : 악보 크롤링 [ 약 1600개 총 약 5000장 ]
>> https://drive.google.com/file/d/1FMc8RmrzTRLzpY8lsIyaBFhL019-kFdT/view?usp=share_link
>> 위 링크에서 알집파일 다운.

> ## 2023/04/30
>> 악보에서 각 object 박스대로 자르기까지 성공
>> 고화질 음표 악보 픽셀 크기대로 resize해서 악보에서 잘라낸 음표와 비교해서 일치율 높으면 그 음표로 판단
>> if 음표마다 기울기가 좀 다르다면? 여러 기울기 가진 음표 사진들 구해서 겹치는 부분 진하게 덜 겹치는 부분 연하게 해서 정규화한 정석 음표 사진 만들기
>> Q. 붙어 있는 음표 있는 사진에서는 기둥 길이도 다 다르고 박스에 딱 떨어지지 않고 두웅~ 떠있는 음표들도 있는데 이건 어떻게 해결?


## 2023/06/28
>> 1. 박스 전체 밀도 구해보기
>> 2. 1에서 구분이 잘 안 가면 줄 밀도, 이것도 안 가면 열 밀도
>> 3. 각 객체와 밀도 값 annotation 데이터 만들어서 AI 학습시키기
    오늘 해 볼 일: 밀도 값 뽑아서 유의미하게 분별되는지 확인해보기

----
## 있으면 좋을 기능
1. 사용자가 요청할 때 넣은 pdf파일의 악보에서 새로운 음악적표현(일반적이지않은)이 발견된경우
서버개발자에게 그 음악적표현에 대해 인지할 수 있도록 New Expression Table을 만들어, 그런 경우가 생길때 마다 저장 및 알림.
(왜냐하면 일반적이지는 않지만, 그런 표현들을 빈번하게 마주친다면 서버입장에서는 그런 표현을 반영하는 것에 대해 고민해 볼 필요가 있기 때문)
>>>>>>> 69e2b245d405975cd3fb92de72fce4a40ba04fc9
